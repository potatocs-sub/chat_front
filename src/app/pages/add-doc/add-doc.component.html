<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet" />

<form class="add_doc_container" (ngSubmit)="submit()">
    <section class="input_section">


        <h2 class="title">Document registration</h2>

        <input [(ngModel)]="company" type="text" placeholder="enter your company name" required
            [ngModelOptions]="{standalone: true}" />
        <!-- 
            1. [(ngModel)]="company": 양방향 데이터 바인딩으로 사용자가 입력한 회사 이름을 company 변수에 저장.
            2. placeholder: "enter your company name"은 사용자가 입력해야 할 내용을 안내.
            3. required: 필수 입력 필드임을 지정.
            4. [ngModelOptions]: Angular Forms의 독립적인 ngModel 사용을 허용.
        -->


        <div class="dropzone" appDnd (fileDropped)="onFileDropped($event)">
            <input type="file" (change)="fileBrowseHandler($event.target)" multiple />
            <mat-icon class="upload_icon" fontSet="material-icons-outlined">cloud_upload</mat-icon>
            <h3>Drag and drop file here</h3>
            <h3>or</h3>
            <button mat-flat-button color="primary" for="fileDropRef">Browse for file</button>
        </div>



        @for(file of files; track file;let i = $index) {
        <div class="single_file">
            <section class="file_info_section">
                <h4>{{file?.name}}</h4>
                <p>{{ formatBytes(file?.size) }}</p>
            </section>
            <section class="file_button_section">
                <button (click)="deleteFile(i)" mat-icon-button><mat-icon>delete_forever</mat-icon></button>
            </section>
        </div>
        }

    </section>
    <section class="button_section">
        <button type="submit" mat-flat-button color="primary" class="submit_button">submit</button>
        <button [routerLink]="['/']" (click)="$event.preventDefault()" mat-flat-button
            class="cancel_button">cancel</button>
    </section>
</form>